<app-loading-spinner></app-loading-spinner>

<ng-container *ngIf="!isAuthPage; else authLayout">
  <mat-sidenav-container class="app-shell">
    <mat-sidenav #sidenav mode="side" role="navigation" class="app-sidenav" opened>
      <div class="sidenav-header">
        <a routerLink="/" aria-label="Ir para o inÃ­cio" class="sidenav-logo-link">
          <img class="sidenav-logo" src="/assets/images/fitness-track-logoo.png" alt="Fitness Track Logo" />
        </a>
      </div>
      <nav class="side-nav-links">
        <button mat-button routerLink="/new-training">
          <mat-icon>fitness_center</mat-icon>
          Montar um treino
        </button>
        <button mat-button routerLink="/current-training">
          <mat-icon>list_alt</mat-icon>
          Treinos
        </button>
        <button mat-button routerLink="/finished-traning">
          <mat-icon>list</mat-icon>
          Apontar um treino
        </button>
        <button mat-button routerLink="/workout-dones">
          <mat-icon>fact_check</mat-icon>
          Treinos feitos
        </button>
        <button mat-button routerLink="/questions">
          <mat-icon>help_outline</mat-icon>
          Consulte os treinos
        </button>
        <button mat-button routerLink="/ask-workout-form">
          <mat-icon>question_answer</mat-icon>
          Consulte os treinos feitos
        </button>
        <button mat-button routerLink="/diet">
          <mat-icon>restaurant</mat-icon>
          Dieta
        </button>
        <button mat-button routerLink="/import-exam">
          <mat-icon>upload_file</mat-icon>
          Importar exame
        </button>
        <button mat-button routerLink="/exams">
          <mat-icon>assignment</mat-icon>
          Exames
        </button>
      </nav>
    </mat-sidenav>
    <mat-sidenav-content>
      <mat-toolbar class="app-toolbar">
        <div class="toolbar-left">
          <button
            mat-icon-button
            aria-label="Abrir menu"
            class="mobile-only"
            (click)="onToggle()"
          >
            <mat-icon>menu</mat-icon>
          </button>
          <span class="app-title">Fitness Track</span>
        </div>
        <span class="spacer"></span>

        <button
          mat-icon-button
          [matMenuTriggerFor]="profileMenu"
          aria-label="Perfil"
          class="profile-button"
        >
          <img
            class="profile-avatar"
            src="/assets/images/profile/user-1.jpg"
            alt="Perfil"
          />
        </button>
        <mat-menu #profileMenu="matMenu" class="profile-menu">
          <button mat-menu-item>
            <mat-icon>person</mat-icon>
            Meu perfil
          </button>
          <button mat-menu-item (click)="onLogout()">
            <mat-icon>logout</mat-icon>
            Sair
          </button>
        </mat-menu>
      </mat-toolbar>
      <main class="app-content">
        <router-outlet></router-outlet>
      </main>
    </mat-sidenav-content>
  </mat-sidenav-container>
</ng-container>

<ng-template #authLayout>
  <router-outlet></router-outlet>
</ng-template>
